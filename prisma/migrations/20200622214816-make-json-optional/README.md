# Migration `20200622214816-make-json-optional`

This migration has been generated by Paul at 6/22/2020, 9:48:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Submissions" ALTER COLUMN "data" DROP NOT NULL,
ALTER COLUMN "form" SET DEFAULT E'UNASSSIGNED',
ALTER COLUMN "owner" SET DEFAULT E'UNASSSIGNED',
ALTER COLUMN "privateData" DROP NOT NULL;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200622214551-added-created-at-field..20200622214816-make-json-optional
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -34,8 +34,8 @@
   name        String?
   email       String?
   form        Form     @default(UNASSSIGNED)
   owner       Team     @default(UNASSSIGNED)
-  data        Json
-  privateData Json
+  data        Json?
+  privateData Json?
   createdAt   DateTime @default(now())
 }
```


